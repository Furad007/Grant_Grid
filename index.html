<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Grant-Grid</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg-ornament"></div>
  <div class="bg-illustration"></div>

  <div class="app">
    <header class="app-header">
      <h1 class="title">Grant-Grid</h1>
      <p class="subtitle">A playful, polished budget wizard</p>
    </header>

    <!-- Progress -->
    <section class="progress">
      <div class="progress-track">
        <div id="progressFill" class="progress-fill"><div class="shimmer"></div></div>
      </div>
      <ul class="milestones" id="milestones">
        <li class="milestone active" data-step="1"><span class="emoji">üèÅ</span><span class="label">Welcome</span></li>
        <li class="milestone" data-step="2"><span class="emoji">üßë‚Äçüè´</span><span class="label">PI</span></li>
        <li class="milestone" data-step="3"><span class="emoji">üë•</span><span class="label">Personnel</span></li>
        <li class="milestone" data-step="4"><span class="emoji">‚úàÔ∏è</span><span class="label">Travel</span></li>
        <li class="milestone" data-step="5"><span class="emoji">üì¶</span><span class="label">Other Costs</span></li>
        <li class="milestone" data-step="6"><span class="emoji">‚úÖ</span><span class="label">Review</span></li>
      </ul>
    </section>

    <!-- Panel -->
    <main class="panel">

      <!-- Step 1: Welcome -->
      <section class="step step-active" id="step-1">
        <h2 class="step-title">Welcome to Grant-Grid</h2>
        <p class="lead">
          This wizard helps you build a **5-year** research budget.  
          You will enter PIs, other personnel, travel, and other direct costs.  
          At the end, you can **download an Excel file** that looks like your sample.
        </p>
        <div class="welcome-grid">
          <label class="field">
            <span>Project title</span>
            <input id="projectName" type="text" placeholder="e.g., TinyML for Edge Devices" />
          </label>
          <label class="field">
            <span>Funding source / agency</span>
            <input id="fundingAgency" type="text" placeholder="e.g., NSF / NIH" />
          </label>
        </div>
      </section>

      <!-- Step 2: PI & Co-PIs -->
      <section class="step" id="step-2">
        <h2 class="step-title">PI & Co-PIs</h2>
        <div class="mini-row">
          <label class="field">
            <span>Principal Investigator (PI)</span>
            <input id="piName" type="text" placeholder="e.g., Dr. Hasan Jamil" />
          </label>
        </div>

        <div class="collection">
          <div class="collection-head">
            <h3 class="sub">Co-PIs (up to 5)</h3>
            <button id="addCoPI" class="btn btn-dark">+ Add Co-PI</button>
          </div>
          <div id="coPIList" class="collection-list"></div>
        </div>
      </section>

      <!-- Step 3: Other Personnel -->
      <section class="step" id="step-3">
        <h2 class="step-title">Other Personnel</h2>
        <p class="hint">Add up to 5 people. Choose a position and enter a name.</p>
        <div class="collection">
          <div class="collection-head">
            <h3 class="sub">Personnel</h3>
            <button id="addPers" class="btn btn-dark">+ Add Person</button>
          </div>
          <div id="persList" class="collection-list"></div>
        </div>
      </section>

      <!-- Step 4: Travel -->
      <section class="step" id="step-4">
        <h2 class="step-title">Travel</h2>
        <p class="hint">Add each trip. Choose **Domestic** or **International**, then enter budgets for Years 1‚Äì5.</p>
        <div class="collection">
          <div class="collection-head">
            <h3 class="sub">Trips</h3>
            <button id="addTrip" class="btn btn-dark">+ Add Trip</button>
          </div>
          <div id="tripList" class="collection-list"></div>
        </div>
      </section>

      <!-- Step 5: Other Direct Costs -->
      <section class="step" id="step-5">
        <h2 class="step-title">Other Direct Costs</h2>
        <p class="hint">Add a cost item (e.g., software, materials). Enter amounts for Years 1‚Äì5. Up to 10 items.</p>
        <div class="collection">
          <div class="collection-head">
            <h3 class="sub">Cost Items</h3>
            <button id="addCost" class="btn btn-dark">+ Add Cost</button>
          </div>
          <div id="costList" class="collection-list"></div>
        </div>
      </section>

      <!-- Step 6: Review & Export -->
      <section class="step" id="step-6">
        <h2 class="step-title">Review & Export</h2>

        <div class="review-section">
          <h3>Project</h3>
          <div class="summary">
            <div class="row"><span class="k">Title</span><span class="v" id="outProj">‚Äî</span></div>
            <div class="row"><span class="k">Agency</span><span class="v" id="outAgency">‚Äî</span></div>
            <div class="row"><span class="k">PI</span><span class="v" id="outPI">‚Äî</span></div>
          </div>
        </div>

        <div class="review-section">
          <h3>Co-PIs</h3>
          <div id="outCoPIs" class="summary simple-list"></div>
        </div>

        <div class="review-section">
          <h3>Other Personnel</h3>
          <div id="outPers" class="summary simple-list"></div>
        </div>

        <div class="review-section">
          <h3>Travel</h3>
          <div id="outTrips" class="summary tableish"></div>
        </div>

        <div class="review-section">
          <h3>Other Direct Costs</h3>
          <div id="outCosts" class="summary tableish"></div>
        </div>

        <p class="hint">Looks good? Export to Excel below. You can also go back and edit.</p>

        <!-- Hidden table we convert to Excel -->
        <table id="excelTable" class="hide"></table>
      </section>

      <!-- Controls -->
      <footer class="controls">
        <button id="backBtn" class="btn btn-ghost" disabled>Back</button>
        <div class="spacer"></div>
        <button id="restartBtn" class="btn btn-ghost">Start Over</button>
        <button id="nextBtn" class="btn btn-dark">Next</button>
      </footer>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
